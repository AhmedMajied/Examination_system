<app-secondary-header title="Our Courses >" [minor_title]="course.Name"></app-secondary-header>

<section class="section-sm">
    <div class="container">
        <div class="row">
            <div class="col-12 mb-4">
                <!-- course image -->
                <img src="../../../assets/images/courses/course-single.jpg" class="img-fluid w-100">
            </div>
        </div>

        <!-- course info -->
        <div class="row align-items-center mb-5">
            <div class="col-lg-8 col-md-6 col-12 mb-4 mb-xl-0">
                <h2>{{course.Name}}</h2>
            </div>

            <!-- Buttons -->
            <div class="col-lg-2 col-md-3 col-5 text-md-right mb-4 mb-xl-0">
                <a [routerLink]="['/questions',courseID]" class="btn btn-primary">Questions</a>
            </div>
            <div class="col-lg-2 col-md-3 col-7 text-md-right text-left mb-4 mb-xl-0">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#examsModal">
                    Exams
                </button>
            </div>

            <div class="col-lg-3 text-lg-right col-5 mt-4 mb-4 mb-xl-0" [hidden]="hidden">
                <a href="#" class="btn btn-primary" data-toggle="modal" [attr.data-target]="'#' + generate_exam_modal">Generate
                    Exam</a>
            </div>
            <div class="col-lg-6 col-7 text-lg-center mt-4 mb-4 mb-xl-0" [hidden]="hidden">
                <a  class="btn btn-primary" (click)="AddQuestion(null,courseID)">Create Question</a>
            </div>
            <div class="col-lg-3 col-12 mt-4 mb-4 mb-xl-0" [hidden]="hidden">
                <button class="btn btn-primary" (click)="getTopicsReport()">Get topics report</button>
            </div>
            
            <div class="col-lg-10 col-5 mt-4 text-lg-right mb-4 mb-xl-0" [hidden]="!isAdmin">
                <a href="#" class="btn btn-primary" data-toggle="modal" [attr.data-target]="'#' + update_modal">Update</a>
            </div>
            <div class="col-lg-2 col-7 mt-4 mb-4 mb-xl-0 text-lg-right" [hidden]="!isAdmin">
                <button class="btn btn-primary" (click)="delete()">Delete</button>
            </div>

            <!-- border -->
            <div class="col-12 mt-4">
                <div class="border-bottom border-primary"></div>
            </div>
        </div>

        <!-- topics -->
        <app-topics [courseID]="courseID"></app-topics>
        <!-- /topics -->

        <!-- course details -->
        <div class="row">
            <div class="col-12 mb-4">
                <h3>About Course</h3>
                <p>{{course.Description}}</p>
            </div>

            <!-- teacher -->
            <div class="col-12">
                <h5 class="mb-3">Teacher</h5>
                <div class="d-flex justify-content-between align-items-center flex-wrap">
                    <div class="media mb-2 mb-sm-0">
                        <img class="mr-4 img-fluid" src="../../../assets/images/teacher.jpg" alt="Teacher image">
                        <div class="media-body">
                            <a [routerLink]="['/teachers',course.instructorID]">
                                <h4 class="card-title">{{course.instructorName}}</h4>
                            </a>
                            <p>{{course.instructorBio}}</p>
                        </div>
                    </div>
                    <div class="social-link">
                        <h6 class="d-none d-sm-block">Social Link</h6>
                        <ul class="list-inline">
                            <li class="list-inline-item"><a class="d-inline-block text-light p-1" href="#"><i
                                        class="ti-facebook"></i></a></li>
                            <li class="list-inline-item"><a class="d-inline-block text-light p-1" href="#"><i
                                        class="ti-twitter-alt"></i></a></li>
                            <li class="list-inline-item"><a class="d-inline-block text-light p-1" href="#"><i
                                        class="ti-linkedin"></i></a></li>
                            <li class="list-inline-item"><a class="d-inline-block text-light p-1" href="#"><i
                                        class="ti-instagram"></i></a></li>
                        </ul>
                    </div>
                </div>
                <div class="border-bottom border-primary mt-4"></div>
            </div>
        </div>
    </div>
</section>
<!-- /section -->

<!-- popups -->
<app-update-course-modal [modal_name] = "update_modal" [data] = "course"></app-update-course-modal>
<app-generate-exam-modal [modal_name]="generate_exam_modal" [courseID]="courseID"></app-generate-exam-modal>
<div *ngIf="courseID">
    <app-exams-modal [courseID]="courseID"></app-exams-modal>
</div>
<!-- /popups -->
